<div class="all-delivery-men-container " style="background-color: white !important;">
  <div class="header">
    <h2>Employees</h2>
    <button class="add-btn" (click)="onAdd()">Add Employee</button>
  </div>

  <div class="search-bar-row">
    <div class="search-bar">
      <input type="text" placeholder="Search by username" [(ngModel)]="searchUserName" (ngModelChange)="onSearchChange($event)" />
      <button class="search-btn">

        <svg width="18" height="18" fill="none" stroke="#3A3362" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="11" cy="11" r="7"/>
          <line x1="16.5" y1="16.5" x2="21" y2="21"/>
        </svg>
      </button>
    </div>
  </div>

  <div *ngIf="isLoading" class="loading">Loading...</div>
  <div *ngIf="errorMsg" class="error">{{ errorMsg }}</div>

  <table *ngIf="!isLoading && filteredEmployees.length" class="delivery-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Department</th>
        <th>Email</th>
        <th>Username</th>
        <th>Phone No.</th>
        <th>Branch</th>
        <th style="width: 80px;">Status</th>
        <th style="width: 90px;">Setting</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of employees">
        <td>{{ emp.firstName + emp.lastName }}</td>
        <td>{{ emp.specificRole }}</td>
        <td>{{ emp.email }}</td>
        <td>{{ emp.userName }}</td>
        <td>{{ emp.phoneNumber }}</td>
        <td>
          <span class="branch-link">{{ emp.branch }}</span>
        </td>
        <td>
          <span
          [ngClass]="{
            'status-active': !emp.isDeleted,
            'status-inactive': emp.isDeleted
          }"
        >
          {{ emp.isDeleted ? 'Inactive' : 'Active' }}
          </span>
        </td>
        <td>
          <button class="edit-btn" (click)="onEdit(emp.id)" title="Edit">
            <!-- SVG edit icon -->
            <svg width="18" height="18" fill="none" stroke="#055866" stroke-width="2" viewBox="0 0 24 24">
              <path d="M12 20h9"/>
              <path d="M16.5 3.5a2.121 2.121 0 1 1 3 3L7 19.5 3 21l1.5-4L16.5 3.5z"/>
            </svg>
          </button>
        
          <button class="delete-btn" (click)="onDelete(emp.id)" [disabled]="emp.isDeleted" title="Delete">
            <!-- SVG delete icon -->
            <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <rect x="3" y="6" width="18" height="15" rx="2"/>
              <path d="M9 10v6M15 10v6"/>
              <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            </svg>
          </button>

        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!isLoading && !filteredEmployees.length" class="no-data">
    No enployees found.
  </div>
</div>
